<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZnamE: file_operations Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ZnamE<span id="projectnumber">&#160;v2.12.0-alpha+build.20230613.205052</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d9/d8d/namespacefile__operations.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">file_operations Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa0282ee2aa6f3008a170c6b1d32409bc"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#aa0282ee2aa6f3008a170c6b1d32409bc">unpack</a> (datelog, args, str cachename)</td></tr>
<tr class="separator:aa0282ee2aa6f3008a170c6b1d32409bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a211c0228f3db84c882c25b71f8ec5698"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#a211c0228f3db84c882c25b71f8ec5698">extract</a> (args, datelog)</td></tr>
<tr class="separator:a211c0228f3db84c882c25b71f8ec5698"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78d5532d023d2c621b3bfc84d85576ac"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#a78d5532d023d2c621b3bfc84d85576ac">delete</a> (file)</td></tr>
<tr class="separator:a78d5532d023d2c621b3bfc84d85576ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa0e67b24c1ac905e67d777aee2498d0"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#aaa0e67b24c1ac905e67d777aee2498d0">on_rm_error</a> (func, path, exc_info)</td></tr>
<tr class="separator:aaa0e67b24c1ac905e67d777aee2498d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02651cafb70e7611fca5a8780e4b79ea"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#a02651cafb70e7611fca5a8780e4b79ea">file_to_datafolder</a> ()</td></tr>
<tr class="separator:a02651cafb70e7611fca5a8780e4b79ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92e42a7313938f27c8d2368279f095d8"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#a92e42a7313938f27c8d2368279f095d8">xp3_finalization</a> ()</td></tr>
<tr class="separator:a92e42a7313938f27c8d2368279f095d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1e190f470ae5f50defc77c65e0479ab"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#ad1e190f470ae5f50defc77c65e0479ab">to_zip</a> (logger, cachename, start)</td></tr>
<tr class="separator:ad1e190f470ae5f50defc77c65e0479ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810d50705543b2353bc68d306dcfb3ac"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#a810d50705543b2353bc68d306dcfb3ac">del_wn</a> ()</td></tr>
<tr class="separator:a810d50705543b2353bc68d306dcfb3ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68250ea9331116e0bfd78d654bb99b45"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#a68250ea9331116e0bfd78d654bb99b45">remove</a> (str|list[str] file)</td></tr>
<tr class="separator:a68250ea9331116e0bfd78d654bb99b45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde8e7251d2381b19725536ab73d2e14"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#afde8e7251d2381b19725536ab73d2e14">mkdir</a> (path)</td></tr>
<tr class="separator:afde8e7251d2381b19725536ab73d2e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ea306461e4ae158e72cda26b19b65bd"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#a7ea306461e4ae158e72cda26b19b65bd">change_quiet_file_op</a> (to)</td></tr>
<tr class="separator:a7ea306461e4ae158e72cda26b19b65bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a71a6849b59b575580a7d6806471944b4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#a71a6849b59b575580a7d6806471944b4">try</a> :</td></tr>
<tr class="separator:a71a6849b59b575580a7d6806471944b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1687daff2bc18ea7431e21e77ac6110"><td class="memItemLeft" align="right" valign="top">eval&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/d8d/namespacefile__operations.html#ab1687daff2bc18ea7431e21e77ac6110">quiet</a> = eval(os.getenv(&quot;QUIET&quot;))</td></tr>
<tr class="separator:ab1687daff2bc18ea7431e21e77ac6110"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7ea306461e4ae158e72cda26b19b65bd" name="a7ea306461e4ae158e72cda26b19b65bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ea306461e4ae158e72cda26b19b65bd">&#9670;&#160;</a></span>change_quiet_file_op()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.change_quiet_file_op </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>to</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The change_quiet_file_op function changes the global variable quiet to True or False.
    This is used in the file_op function to determine whether or not a message should be printed.

:param to: Set the global quiet variable to true or false
:return: Nothing
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00360">360</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  360</span><span class="keyword">def </span>change_quiet_file_op(to):</div>
<div class="line"><span class="lineno">  361</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  362</span><span class="stringliteral">    The change_quiet_file_op function changes the </span><span class="keyword">global</span> variable quiet to <span class="keyword">True</span> <span class="keywordflow">or</span> <span class="keyword">False</span>.</div>
<div class="line"><span class="lineno">  363</span>        This <span class="keywordflow">is</span> used <span class="keywordflow">in</span> the file_op function to determine whether <span class="keywordflow">or</span> <span class="keywordflow">not</span> a message should be printed.</div>
<div class="line"><span class="lineno">  364</span>    </div>
<div class="line"><span class="lineno">  365</span>    :param to: Set the <span class="keyword">global</span> quiet variable to true <span class="keywordflow">or</span> false</div>
<div class="line"><span class="lineno">  366</span>    :<span class="keywordflow">return</span>: Nothing</div>
<div class="line"><span class="lineno">  367</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  368</span><span class="stringliteral">    </span><span class="keyword">global</span> quiet</div>
<div class="line"><span class="lineno">  369</span>    <span class="keywordflow">if</span> to <span class="keywordflow">in</span> [<span class="keyword">True</span>, <span class="keyword">False</span>]:</div>
<div class="line"><span class="lineno">  370</span>        quiet = to</div>
</div><!-- fragment -->
</div>
</div>
<a id="a810d50705543b2353bc68d306dcfb3ac" name="a810d50705543b2353bc68d306dcfb3ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a810d50705543b2353bc68d306dcfb3ac">&#9670;&#160;</a></span>del_wn()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.del_wn </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The del_wn function deletes the following files:
    - neko.png
    - waifu.png
    - waifu.gif
    - waifu.mp4

:return: Nothing
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00311">311</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  311</span><span class="keyword">def </span>del_wn():</div>
<div class="line"><span class="lineno">  312</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  313</span><span class="stringliteral">    The del_wn function deletes the following files:</span></div>
<div class="line"><span class="lineno">  314</span><span class="stringliteral">        - neko.png</span></div>
<div class="line"><span class="lineno">  315</span><span class="stringliteral">        - waifu.png</span></div>
<div class="line"><span class="lineno">  316</span><span class="stringliteral">        - waifu.gif</span></div>
<div class="line"><span class="lineno">  317</span><span class="stringliteral">        - waifu.mp4</span></div>
<div class="line"><span class="lineno">  318</span><span class="stringliteral">    </span></div>
<div class="line"><span class="lineno">  319</span><span class="stringliteral">    :</span><span class="keywordflow">return</span>: Nothing</div>
<div class="line"><span class="lineno">  320</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  321</span><span class="stringliteral">    remove(&quot;assets/neko.png&quot;</span>)</div>
<div class="line"><span class="lineno">  322</span>    remove(<span class="stringliteral">&quot;assets/waifu.png&quot;</span>)</div>
<div class="line"><span class="lineno">  323</span>    remove(<span class="stringliteral">&quot;assets/waifu.gif&quot;</span>)</div>
<div class="line"><span class="lineno">  324</span>    remove(<span class="stringliteral">&quot;assets/waifu.mp4&quot;</span>)</div>
<div class="line"><span class="lineno">  325</span>    remove(<span class="stringliteral">&quot;assets/video.mp4&quot;</span>)</div>
<div class="line"><span class="lineno">  326</span> </div>
<div class="line"><span class="lineno">  327</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a78d5532d023d2c621b3bfc84d85576ac" name="a78d5532d023d2c621b3bfc84d85576ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a78d5532d023d2c621b3bfc84d85576ac">&#9670;&#160;</a></span>delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.delete </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The delete function is used to delete a file or directory.
    It will attempt to remove the file/directory, and if it fails,
    it will call on_rm_error() which attempts to change permissions of the 
    file/directory before attempting removal again.

:param file: Specify the file to be deleted
:return: Nothing
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00139">139</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  139</span><span class="keyword">def </span>delete(file):</div>
<div class="line"><span class="lineno">  140</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  141</span><span class="stringliteral">    The delete function </span><span class="keywordflow">is</span> used to delete a file <span class="keywordflow">or</span> directory.</div>
<div class="line"><span class="lineno">  142</span>        It will attempt to remove the file/directory, <span class="keywordflow">and</span> <span class="keywordflow">if</span> it fails,</div>
<div class="line"><span class="lineno">  143</span>        it will call on_rm_error() which attempts to change permissions of the </div>
<div class="line"><span class="lineno">  144</span>        file/directory before attempting removal again.</div>
<div class="line"><span class="lineno">  145</span>    </div>
<div class="line"><span class="lineno">  146</span>    :param file: Specify the file to be deleted</div>
<div class="line"><span class="lineno">  147</span>    :<span class="keywordflow">return</span>: Nothing</div>
<div class="line"><span class="lineno">  148</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  149</span><span class="stringliteral">    </span><span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  150</span>        shutil.rmtree(file, onerror=on_rm_error)</div>
<div class="line"><span class="lineno">  151</span>    <span class="keywordflow">except</span>:</div>
<div class="line"><span class="lineno">  152</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a211c0228f3db84c882c25b71f8ec5698" name="a211c0228f3db84c882c25b71f8ec5698"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a211c0228f3db84c882c25b71f8ec5698">&#9670;&#160;</a></span>extract()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.extract </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datelog</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The extract function is used to extract the data files from the game.
It does this by first finding all of the .xp2 files in your current directory, and then unpacking them using unpack().
After that, it copies &amp;quot;data&amp;quot; into a backup file called &amp;quot;data_backup&amp;quot;. It then opens up both data and a new file called 
&amp;quot;data_dummy&amp;quot;, which will be used to replace data. The reason for this is because there are some characters in data that 
are not allowed on Windows (such as ':'). This function replaces those characters with ones that are allowed on Windows.

:param args: Pass the arguments from the command line to this function
:param datelog: Write to the log file
:return: A list of the files that have been extracted
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00097">97</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   97</span><span class="keyword">def </span>extract(args, datelog):</div>
<div class="line"><span class="lineno">   98</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   99</span><span class="stringliteral">    The extract function </span><span class="keywordflow">is</span> used to extract the data files <span class="keyword">from</span> the game.</div>
<div class="line"><span class="lineno">  100</span>    It does this by first finding all of the .xp2 files <span class="keywordflow">in</span> your current directory, <span class="keywordflow">and</span> then unpacking them using unpack().</div>
<div class="line"><span class="lineno">  101</span>    After that, it copies &amp;quot;data&amp;quot; into a backup file called &amp;quot;data_backup&amp;quot;. It then opens up both data <span class="keywordflow">and</span> a new file called </div>
<div class="line"><span class="lineno">  102</span>    &amp;quot;data_dummy&amp;quot;, which will be used to replace data. The reason <span class="keywordflow">for</span> this <span class="keywordflow">is</span> because there are some characters <span class="keywordflow">in</span> data that </div>
<div class="line"><span class="lineno">  103</span>    are <span class="keywordflow">not</span> allowed on Windows (such <span class="keyword">as</span> <span class="stringliteral">&#39;:&#39;</span>). This function replaces those characters <span class="keyword">with</span> ones that are allowed on Windows.</div>
<div class="line"><span class="lineno">  104</span>    </div>
<div class="line"><span class="lineno">  105</span>    :param args: Pass the arguments <span class="keyword">from</span> the command line to this function</div>
<div class="line"><span class="lineno">  106</span>    :param datelog: Write to the log file</div>
<div class="line"><span class="lineno">  107</span>    :<span class="keywordflow">return</span>: A list of the files that have been extracted</div>
<div class="line"><span class="lineno">  108</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  109</span><span class="stringliteral">    typewriter(printnlog(&quot;\nStarting to extract\n&quot;</span>, toprint=<span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">  110</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  111</span>        datafiles: list = []</div>
<div class="line"><span class="lineno">  112</span>        <span class="keywordflow">for</span> file <span class="keywordflow">in</span> os.listdir(<span class="stringliteral">&quot;./&quot;</span>):</div>
<div class="line"><span class="lineno">  113</span>            <span class="keywordflow">if</span> file.startswith(<span class="stringliteral">&quot;data&quot;</span>):</div>
<div class="line"><span class="lineno">  114</span>                <span class="keywordflow">if</span> file.endswith(<span class="stringliteral">&quot;.xp2&quot;</span>):</div>
<div class="line"><span class="lineno">  115</span>                    datafiles.append(file)</div>
<div class="line"><span class="lineno">  116</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(1, len(datafiles) + 1):</div>
<div class="line"><span class="lineno">  117</span>            unpack(datelog, args, datafiles[-i])</div>
<div class="line"><span class="lineno">  118</span>        shutil.copy(<span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;data_backup&quot;</span>)</div>
<div class="line"><span class="lineno">  119</span>        printnlog(<span class="stringliteral">&quot;\nDone\n&quot;</span>)</div>
<div class="line"><span class="lineno">  120</span>        check = open(<span class="stringliteral">&quot;data&quot;</span>, <span class="stringliteral">&quot;r&quot;</span>)</div>
<div class="line"><span class="lineno">  121</span>        check_new = open(<span class="stringliteral">&quot;data_dummy&quot;</span>, <span class="stringliteral">&quot;w&quot;</span>)</div>
<div class="line"><span class="lineno">  122</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> check.read():</div>
<div class="line"><span class="lineno">  123</span>            <span class="keywordflow">if</span> i == <span class="stringliteral">&quot;G&quot;</span>:</div>
<div class="line"><span class="lineno">  124</span>                check_new.write(<span class="stringliteral">&quot;[&quot;</span>)</div>
<div class="line"><span class="lineno">  125</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  126</span>                check_new.write(i)</div>
<div class="line"><span class="lineno">  127</span>        check.close()</div>
<div class="line"><span class="lineno">  128</span>        check_new.close()</div>
<div class="line"><span class="lineno">  129</span>        os.mkdir(<span class="stringliteral">&quot;temp&quot;</span>)</div>
<div class="line"><span class="lineno">  130</span>        shutil.move(<span class="stringliteral">&quot;data_dummy&quot;</span>, <span class="stringliteral">&quot;temp/&quot;</span>)</div>
<div class="line"><span class="lineno">  131</span>        os.remove(<span class="stringliteral">&quot;data&quot;</span>)</div>
<div class="line"><span class="lineno">  132</span>        shutil.move(<span class="stringliteral">&quot;temp/data_dummy&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>)</div>
<div class="line"><span class="lineno">  133</span>        shutil.rmtree(<span class="stringliteral">&quot;temp&quot;</span>)</div>
<div class="line"><span class="lineno">  134</span>        os.rename(<span class="stringliteral">&quot;data_dummy&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>)</div>
<div class="line"><span class="lineno">  135</span>    <span class="keywordflow">except</span> FileNotFoundError:</div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  137</span> </div>
<div class="line"><span class="lineno">  138</span> </div>
</div><!-- fragment --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/d8d/namespacefile__operations_a211c0228f3db84c882c25b71f8ec5698_cgraph.png" border="0" usemap="#ad9/d8d/namespacefile__operations_a211c0228f3db84c882c25b71f8ec5698_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a02651cafb70e7611fca5a8780e4b79ea" name="a02651cafb70e7611fca5a8780e4b79ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a02651cafb70e7611fca5a8780e4b79ea">&#9670;&#160;</a></span>file_to_datafolder()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.file_to_datafolder </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The file_to_datafolder function moves all the files in the current directory to a new folder called datafolder.
The function also creates subfolders for assets, apphtml, and yt_dl.

:return: A list of files that are in the datafolder
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00170">170</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  170</span><span class="keyword">def </span>file_to_datafolder():</div>
<div class="line"><span class="lineno">  171</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral">    The file_to_datafolder function moves all the files </span><span class="keywordflow">in</span> the current directory to a new folder called datafolder.</div>
<div class="line"><span class="lineno">  173</span>    The function also creates subfolders <span class="keywordflow">for</span> assets, apphtml, <span class="keywordflow">and</span> yt_dl.</div>
<div class="line"><span class="lineno">  174</span>    </div>
<div class="line"><span class="lineno">  175</span>    :<span class="keywordflow">return</span>: A list of files that are <span class="keywordflow">in</span> the datafolder</div>
<div class="line"><span class="lineno">  176</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">    source_dir: str = &quot;assets/&quot;</span></div>
<div class="line"><span class="lineno">  178</span>    os.mkdir(<span class="stringliteral">&quot;datafolder/&quot;</span> + source_dir)</div>
<div class="line"><span class="lineno">  179</span>    <span class="keywordflow">for</span> file_name <span class="keywordflow">in</span> os.listdir(source_dir):</div>
<div class="line"><span class="lineno">  180</span>        shutil.move(os.path.join(source_dir, file_name), <span class="stringliteral">&quot;datafolder/&quot;</span> + source_dir)</div>
<div class="line"><span class="lineno">  181</span>    source_dir: str = <span class="stringliteral">&quot;apphtml/&quot;</span></div>
<div class="line"><span class="lineno">  182</span>    os.mkdir(<span class="stringliteral">&quot;datafolder/&quot;</span> + source_dir)</div>
<div class="line"><span class="lineno">  183</span>    <span class="keywordflow">for</span> file_name <span class="keywordflow">in</span> os.listdir(source_dir):</div>
<div class="line"><span class="lineno">  184</span>        shutil.move(os.path.join(source_dir, file_name), <span class="stringliteral">&quot;datafolder/&quot;</span> + source_dir)</div>
<div class="line"><span class="lineno">  185</span>    source_dir: str = <span class="stringliteral">&quot;yt_dl/&quot;</span></div>
<div class="line"><span class="lineno">  186</span>    os.mkdir(<span class="stringliteral">&quot;datafolder/&quot;</span> + source_dir)</div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordflow">for</span> file_name <span class="keywordflow">in</span> os.listdir(source_dir):</div>
<div class="line"><span class="lineno">  188</span>        shutil.move(os.path.join(source_dir, file_name), <span class="stringliteral">&quot;datafolder/&quot;</span> + source_dir)</div>
<div class="line"><span class="lineno">  189</span>    files: list = [</div>
<div class="line"><span class="lineno">  190</span>        <span class="stringliteral">&quot;downloadmusic.py&quot;</span>,</div>
<div class="line"><span class="lineno">  191</span>        <span class="stringliteral">&quot;mouse.py&quot;</span>,</div>
<div class="line"><span class="lineno">  192</span>        <span class="stringliteral">&quot;path.py&quot;</span>,</div>
<div class="line"><span class="lineno">  193</span>        <span class="stringliteral">&quot;endscreen.py&quot;</span>,</div>
<div class="line"><span class="lineno">  194</span>        <span class="stringliteral">&quot;login.py&quot;</span>,</div>
<div class="line"><span class="lineno">  195</span>        <span class="stringliteral">&quot;settings.py&quot;</span>,</div>
<div class="line"><span class="lineno">  196</span>        <span class="stringliteral">&quot;game_assets.py&quot;</span>,</div>
<div class="line"><span class="lineno">  197</span>        <span class="stringliteral">&quot;completer.py&quot;</span>,</div>
<div class="line"><span class="lineno">  198</span>    ]</div>
<div class="line"><span class="lineno">  199</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> files:</div>
<div class="line"><span class="lineno">  200</span>        shutil.move(i, f<span class="stringliteral">&quot;datafolder/{i}&quot;</span>)</div>
<div class="line"><span class="lineno">  201</span> </div>
<div class="line"><span class="lineno">  202</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="afde8e7251d2381b19725536ab73d2e14" name="afde8e7251d2381b19725536ab73d2e14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde8e7251d2381b19725536ab73d2e14">&#9670;&#160;</a></span>mkdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.mkdir </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The mkdir function creates a directory at the specified path.
    If the directory already exists, it will not raise an error.

:param path: Specify the path of the directory to be created
:return: None
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00349">349</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  349</span><span class="keyword">def </span>mkdir(path):</div>
<div class="line"><span class="lineno">  350</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  351</span><span class="stringliteral">    The mkdir function creates a directory at the specified path.</span></div>
<div class="line"><span class="lineno">  352</span><span class="stringliteral">        If the directory already exists, it will </span><span class="keywordflow">not</span> <span class="keywordflow">raise</span> an error.</div>
<div class="line"><span class="lineno">  353</span>    </div>
<div class="line"><span class="lineno">  354</span>    :param path: Specify the path of the directory to be created</div>
<div class="line"><span class="lineno">  355</span>    :<span class="keywordflow">return</span>: <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  356</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  357</span><span class="stringliteral">    os.makedirs(path, exist_ok=</span><span class="keyword">True</span>)</div>
<div class="line"><span class="lineno">  358</span> </div>
<div class="line"><span class="lineno">  359</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aaa0e67b24c1ac905e67d777aee2498d0" name="aaa0e67b24c1ac905e67d777aee2498d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa0e67b24c1ac905e67d777aee2498d0">&#9670;&#160;</a></span>on_rm_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.on_rm_error </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>exc_info</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The on_rm_error function is a callback function that will be called by the shutil.rmtree() function
if an error occurs while attempting to remove a file or directory. The on_rm_error() function will attempt
to change the permissions of the file or directory so that it can be removed, and then it will try again.

:param func: Pass the function that raised the exception
:param path: Specify the directory to be removed
:param exc_info: Pass information about the exception that caused the error
:return: A function that handles the error
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00155">155</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  155</span><span class="keyword">def </span>on_rm_error(func, path, exc_info):</div>
<div class="line"><span class="lineno">  156</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">    The on_rm_error function </span><span class="keywordflow">is</span> a callback function that will be called by the shutil.rmtree() function</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">if</span> an error occurs <span class="keywordflow">while</span> attempting to remove a file <span class="keywordflow">or</span> directory. The on_rm_error() function will attempt</div>
<div class="line"><span class="lineno">  159</span>    to change the permissions of the file <span class="keywordflow">or</span> directory so that it can be removed, <span class="keywordflow">and</span> then it will <span class="keywordflow">try</span> again.</div>
<div class="line"><span class="lineno">  160</span>    </div>
<div class="line"><span class="lineno">  161</span>    :param func: Pass the function that raised the exception</div>
<div class="line"><span class="lineno">  162</span>    :param path: Specify the directory to be removed</div>
<div class="line"><span class="lineno">  163</span>    :param exc_info: Pass information about the exception that caused the error</div>
<div class="line"><span class="lineno">  164</span>    :<span class="keywordflow">return</span>: A function that handles the error</div>
<div class="line"><span class="lineno">  165</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  166</span><span class="stringliteral">    os.chmod(path, stat.S_IWRITE)</span></div>
<div class="line"><span class="lineno">  167</span><span class="stringliteral">    os.unlink(path)</span></div>
<div class="line"><span class="lineno">  168</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  169</span><span class="stringliteral"></span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a68250ea9331116e0bfd78d654bb99b45" name="a68250ea9331116e0bfd78d654bb99b45"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a68250ea9331116e0bfd78d654bb99b45">&#9670;&#160;</a></span>remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.remove </td>
          <td>(</td>
          <td class="paramtype">str | list[str]&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The remove function is a wrapper for the os.remove function that allows you to pass in either a single filepath or
a list of filepaths and will attempt to remove each one. If an exception occurs, it will be caught and ignored.

:param file: str | list[str]: Specify the file or files to be removed
:return: None, which is not a valid return type for the function
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00328">328</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  328</span><span class="keyword">def </span>remove(file: str | list[str]):</div>
<div class="line"><span class="lineno">  329</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  330</span><span class="stringliteral">    The remove function </span><span class="keywordflow">is</span> a wrapper <span class="keywordflow">for</span> the os.remove function that allows you to <span class="keywordflow">pass</span> <span class="keywordflow">in</span> either a single filepath <span class="keywordflow">or</span></div>
<div class="line"><span class="lineno">  331</span>    a list of filepaths <span class="keywordflow">and</span> will attempt to remove each one. If an exception occurs, it will be caught <span class="keywordflow">and</span> ignored.</div>
<div class="line"><span class="lineno">  332</span>    </div>
<div class="line"><span class="lineno">  333</span>    :param file: str | list[str]: Specify the file <span class="keywordflow">or</span> files to be removed</div>
<div class="line"><span class="lineno">  334</span>    :<span class="keywordflow">return</span>: <span class="keywordtype">None</span>, which <span class="keywordflow">is</span> <span class="keywordflow">not</span> a valid <span class="keywordflow">return</span> type <span class="keywordflow">for</span> the function</div>
<div class="line"><span class="lineno">  335</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  336</span><span class="stringliteral">    </span><span class="keywordflow">if</span> isinstance(file, str):</div>
<div class="line"><span class="lineno">  337</span>        <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  338</span>            <span class="keywordflow">return</span> os.remove(file)</div>
<div class="line"><span class="lineno">  339</span>        <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  340</span>            <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  341</span>    <span class="keywordflow">elif</span> isinstance(file, list):</div>
<div class="line"><span class="lineno">  342</span>        <span class="keywordflow">for</span> filepath <span class="keywordflow">in</span> file:</div>
<div class="line"><span class="lineno">  343</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">  344</span>                <span class="keywordflow">return</span> os.remove(filepath)</div>
<div class="line"><span class="lineno">  345</span>            <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">  346</span>                <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  347</span> </div>
<div class="line"><span class="lineno">  348</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="ad1e190f470ae5f50defc77c65e0479ab" name="ad1e190f470ae5f50defc77c65e0479ab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1e190f470ae5f50defc77c65e0479ab">&#9670;&#160;</a></span>to_zip()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.to_zip </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>logger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cachename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The to_zip function takes a logger, cachename, and start as arguments.
It then creates two lists of strings: zipfiles and zipfileswopath.
The first list contains the names of files to be zipped; the second is identical but without paths.
Then it creates a list called folders which contains one string: &amp;quot;structs&amp;quot;.  It loops through this list with an index i from 0 to len(folders).  For each value of i, it walks through the folder named by folders[i] (which is always &amp;quot;structs&amp;quot;) and adds all files in that folder to both lists created earlier.

:param logger: Print the progress of the packing process
:param cachename: Specify the name of the zip file
:param start: Calculate the elapsed time of packing
:return: Nothing
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00243">243</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  243</span><span class="keyword">def </span>to_zip(logger, cachename, start):</div>
<div class="line"><span class="lineno">  244</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  245</span><span class="stringliteral">    The to_zip function takes a logger, cachename, </span><span class="keywordflow">and</span> start <span class="keyword">as</span> arguments.</div>
<div class="line"><span class="lineno">  246</span>    It then creates two lists of strings: zipfiles <span class="keywordflow">and</span> zipfileswopath.</div>
<div class="line"><span class="lineno">  247</span>    The first list contains the names of files to be zipped; the second <span class="keywordflow">is</span> identical but without paths.</div>
<div class="line"><span class="lineno">  248</span>    Then it creates a list called folders which contains one string: &amp;quot;structs&amp;quot;.  It loops through this list <span class="keyword">with</span> an index i <span class="keyword">from</span> 0 to len(folders).  For each value of i, it walks through the folder named by folders[i] (which <span class="keywordflow">is</span> always &amp;quot;structs&amp;quot;) <span class="keywordflow">and</span> adds all files <span class="keywordflow">in</span> that folder to both lists created earlier.</div>
<div class="line"><span class="lineno">  249</span>    </div>
<div class="line"><span class="lineno">  250</span>    :param logger: Print the progress of the packing process</div>
<div class="line"><span class="lineno">  251</span>    :param cachename: Specify the name of the zip file</div>
<div class="line"><span class="lineno">  252</span>    :param start: Calculate the elapsed time of packing</div>
<div class="line"><span class="lineno">  253</span>    :<span class="keywordflow">return</span>: Nothing</div>
<div class="line"><span class="lineno">  254</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  255</span><span class="stringliteral">    zipfiles: list[str] = [</span></div>
<div class="line"><span class="lineno">  256</span><span class="stringliteral">        &quot;tests.py&quot;</span>,</div>
<div class="line"><span class="lineno">  257</span>        <span class="stringliteral">&quot;xp3.py&quot;</span>,</div>
<div class="line"><span class="lineno">  258</span>        <span class="stringliteral">&quot;xp3reader.py&quot;</span>,</div>
<div class="line"><span class="lineno">  259</span>        <span class="stringliteral">&quot;xp3writer.py&quot;</span>,</div>
<div class="line"><span class="lineno">  260</span>        <span class="stringliteral">&quot;data.xp3&quot;</span>,</div>
<div class="line"><span class="lineno">  261</span>    ]</div>
<div class="line"><span class="lineno">  262</span>    zipfileswopath: list[str] = [</div>
<div class="line"><span class="lineno">  263</span>        <span class="stringliteral">&quot;tests.py&quot;</span>,</div>
<div class="line"><span class="lineno">  264</span>        <span class="stringliteral">&quot;xp3.py&quot;</span>,</div>
<div class="line"><span class="lineno">  265</span>        <span class="stringliteral">&quot;xp3reader.py&quot;</span>,</div>
<div class="line"><span class="lineno">  266</span>        <span class="stringliteral">&quot;xp3writer.py&quot;</span>,</div>
<div class="line"><span class="lineno">  267</span>        <span class="stringliteral">&quot;data.xp3&quot;</span>,</div>
<div class="line"><span class="lineno">  268</span>    ]</div>
<div class="line"><span class="lineno">  269</span>    folders: list[str] = [<span class="stringliteral">&quot;structs&quot;</span>]</div>
<div class="line"><span class="lineno">  270</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(0, len(folders)):</div>
<div class="line"><span class="lineno">  271</span>        <span class="keywordflow">for</span> path, directories, files <span class="keywordflow">in</span> os.walk(folders[i]):</div>
<div class="line"><span class="lineno">  272</span>            <span class="keywordflow">for</span> file <span class="keywordflow">in</span> files:</div>
<div class="line"><span class="lineno">  273</span>                file_name: str = os.path.join(path, file)</div>
<div class="line"><span class="lineno">  274</span>                zipfiles.append(file_name)</div>
<div class="line"><span class="lineno">  275</span>                zipfileswopath.append(file)</div>
<div class="line"><span class="lineno">  276</span>    logger.next(<span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  277</span>    <span class="keyword">with</span> zipfile.ZipFile(cachename, mode=<span class="stringliteral">&quot;w&quot;</span>, compresslevel=5) <span class="keyword">as</span> zip:</div>
<div class="line"><span class="lineno">  278</span>        zip_kb_old: int = 0</div>
<div class="line"><span class="lineno">  279</span>        zipfilesnumber: int = len(zipfiles)</div>
<div class="line"><span class="lineno">  280</span>        bar = tqdm(range(0, len(zipfiles)), desc=<span class="stringliteral">&quot;Packing &quot;</span>)</div>
<div class="line"><span class="lineno">  281</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> bar:</div>
<div class="line"><span class="lineno">  282</span>            zip.write(zipfiles[i])</div>
<div class="line"><span class="lineno">  283</span>            filesizeen: int = sum([zinfo.file_size <span class="keywordflow">for</span> zinfo <span class="keywordflow">in</span> zip.filelist])</div>
<div class="line"><span class="lineno">  284</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> quiet:</div>
<div class="line"><span class="lineno">  285</span>                tqdm.write(</div>
<div class="line"><span class="lineno">  286</span>                    logger.stay(</div>
<div class="line"><span class="lineno">  287</span>                        zipfileswopath[i]</div>
<div class="line"><span class="lineno">  288</span>                        + <span class="stringliteral">&quot;(&quot;</span></div>
<div class="line"><span class="lineno">  289</span>                        + str(os.path.getsize(zipfiles[i]))</div>
<div class="line"><span class="lineno">  290</span>                        + <span class="stringliteral">&quot; KB) -&gt; &quot;</span></div>
<div class="line"><span class="lineno">  291</span>                        + str(round(filesizeen - zip_kb_old, 2))</div>
<div class="line"><span class="lineno">  292</span>                        + <span class="stringliteral">&quot; KB&quot;</span>,</div>
<div class="line"><span class="lineno">  293</span>                        end=<span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><span class="lineno">  294</span>                        toprint=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  295</span>                    )</div>
<div class="line"><span class="lineno">  296</span>                )</div>
<div class="line"><span class="lineno">  297</span>            zip_kb_old: int = filesizeen</div>
<div class="line"><span class="lineno">  298</span>            os.remove(zipfiles[i])</div>
<div class="line"><span class="lineno">  299</span>            <span class="keywordflow">if</span> i == len(zipfiles) - 1:</div>
<div class="line"><span class="lineno">  300</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> quiet:</div>
<div class="line"><span class="lineno">  301</span>                    tqdm.write(<span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  302</span>        filesizeenend: int = sum([zinfo.file_size <span class="keywordflow">for</span> zinfo <span class="keywordflow">in</span> zip.filelist])</div>
<div class="line"><span class="lineno">  303</span>        logger.prev(<span class="stringliteral">&quot;\nPacked data have &gt; &quot;</span> + str(filesizeenend) + <span class="stringliteral">&quot; KB&quot;</span>)</div>
<div class="line"><span class="lineno">  304</span>        zip.close()</div>
<div class="line"><span class="lineno">  305</span>    <span class="keywordflow">for</span> i <span class="keywordflow">in</span> range(0, len(folders)):</div>
<div class="line"><span class="lineno">  306</span>        shutil.rmtree(folders[i])</div>
<div class="line"><span class="lineno">  307</span>    end = time.time()</div>
<div class="line"><span class="lineno">  308</span>    logger.stay(<span class="stringliteral">&quot;Elapsed time of packing: &quot;</span> + str(end - start) + <span class="stringliteral">&quot;\n&quot;</span>)</div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="aa0282ee2aa6f3008a170c6b1d32409bc" name="aa0282ee2aa6f3008a170c6b1d32409bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa0282ee2aa6f3008a170c6b1d32409bc">&#9670;&#160;</a></span>unpack()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None file_operations.unpack </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>datelog</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>args</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>cachename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The unpack function unpacks the downloaded zip file and extracts the data from it.
It then moves all of the files to their appropriate locations, deletes any unneeded folders,
and removes the zip file. It also prints out a progress bar for each step.

:param cachename: Determine the name of the file to extract from
:return: :
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00020">20</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   20</span><span class="keyword">def </span>unpack(datelog, args, cachename: str) -&gt; <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">   21</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   22</span><span class="stringliteral">    The unpack function unpacks the downloaded zip file </span><span class="keywordflow">and</span> extracts the data <span class="keyword">from</span> it.</div>
<div class="line"><span class="lineno">   23</span>    It then moves all of the files to their appropriate locations, deletes any unneeded folders,</div>
<div class="line"><span class="lineno">   24</span>    <span class="keywordflow">and</span> removes the zip file. It also prints out a progress bar <span class="keywordflow">for</span> each step.</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    :param cachename: Determine the name of the file to extract <span class="keyword">from</span></div>
<div class="line"><span class="lineno">   27</span>    :<span class="keywordflow">return</span>: :</div>
<div class="line"><span class="lineno">   28</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   29</span><span class="stringliteral">    </span><span class="keyword">with</span> zipfile.ZipFile(cachename, mode=<span class="stringliteral">&quot;r&quot;</span>) <span class="keyword">as</span> zip:</div>
<div class="line"><span class="lineno">   30</span>        <span class="keywordflow">for</span> member <span class="keywordflow">in</span> tqdm(</div>
<div class="line"><span class="lineno">   31</span>            iterable=zip.namelist(), total=len(zip.namelist()), desc=<span class="stringliteral">&quot;Extracting &quot;</span></div>
<div class="line"><span class="lineno">   32</span>        ):</div>
<div class="line"><span class="lineno">   33</span>            <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   34</span>                zip.extract(member)</div>
<div class="line"><span class="lineno">   35</span>                <span class="keywordflow">if</span> <span class="keywordflow">not</span> quiet:</div>
<div class="line"><span class="lineno">   36</span>                    tqdm.write(</div>
<div class="line"><span class="lineno">   37</span>                        f<span class="stringliteral">&quot;{os.path.basename(member)}(&quot;</span></div>
<div class="line"><span class="lineno">   38</span>                        + str(os.path.getsize(member))</div>
<div class="line"><span class="lineno">   39</span>                        + <span class="stringliteral">&quot;B)&quot;</span></div>
<div class="line"><span class="lineno">   40</span>                    )</div>
<div class="line"><span class="lineno">   41</span>                log(</div>
<div class="line"><span class="lineno">   42</span>                    f<span class="stringliteral">&quot;{os.path.basename(member)}(&quot;</span> + str(os.path.getsize(member)) + <span class="stringliteral">&quot;B)&quot;</span></div>
<div class="line"><span class="lineno">   43</span>                )</div>
<div class="line"><span class="lineno">   44</span>            <span class="keywordflow">except</span> zipfile.error <span class="keyword">as</span> e:</div>
<div class="line"><span class="lineno">   45</span>                <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">   46</span>        zip.close()</div>
<div class="line"><span class="lineno">   47</span>    typewriter(printnlog(<span class="stringliteral">&quot;Done\n&quot;</span>, toprint=<span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">   48</span>    typewriter(printnlog(<span class="stringliteral">&quot;Unpacking second part...\n&quot;</span>, toprint=<span class="keyword">False</span>))</div>
<div class="line"><span class="lineno">   49</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   50</span><span class="stringliteral">    Extract the data </span><span class="keyword">from</span> the xp3 file.</div>
<div class="line"><span class="lineno">   51</span>    <span class="preprocessor">@param</span> xp3_file - the xp3 file to extract <span class="keyword">from</span></div>
<div class="line"><span class="lineno">   52</span>    <span class="preprocessor">@param</span> output_folder - the folder to extract to</div>
<div class="line"><span class="lineno">   53</span>    <span class="preprocessor">@param</span> extract_name - the name of the file to extract</div>
<div class="line"><span class="lineno">   54</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   55</span><span class="stringliteral">    </span><span class="keywordflow">if</span> <span class="keywordflow">not</span> quiet:</div>
<div class="line"><span class="lineno">   56</span>        subprocess.call(</div>
<div class="line"><span class="lineno">   57</span>            [sys.executable, <span class="stringliteral">&quot;xp3.py&quot;</span>, <span class="stringliteral">&quot;data.xp3&quot;</span>, <span class="stringliteral">&quot;data1&quot;</span>, <span class="stringliteral">&quot;-e&quot;</span>, <span class="stringliteral">&quot;neko_vol0_steam&quot;</span>]</div>
<div class="line"><span class="lineno">   58</span>        )</div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">if</span> quiet:</div>
<div class="line"><span class="lineno">   60</span>        subprocess.call(</div>
<div class="line"><span class="lineno">   61</span>            [</div>
<div class="line"><span class="lineno">   62</span>                sys.executable,</div>
<div class="line"><span class="lineno">   63</span>                <span class="stringliteral">&quot;xp3.py&quot;</span>,</div>
<div class="line"><span class="lineno">   64</span>                <span class="stringliteral">&quot;data.xp3&quot;</span>,</div>
<div class="line"><span class="lineno">   65</span>                <span class="stringliteral">&quot;data1&quot;</span>,</div>
<div class="line"><span class="lineno">   66</span>                <span class="stringliteral">&quot;-e&quot;</span>,</div>
<div class="line"><span class="lineno">   67</span>                <span class="stringliteral">&quot;neko_vol0_steam&quot;</span>,</div>
<div class="line"><span class="lineno">   68</span>                <span class="stringliteral">&quot;-silent&quot;</span>,</div>
<div class="line"><span class="lineno">   69</span>            ]</div>
<div class="line"><span class="lineno">   70</span>        )</div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">try</span>:</div>
<div class="line"><span class="lineno">   72</span>        shutil.move(<span class="stringliteral">&quot;data1/data&quot;</span>, <span class="stringliteral">&quot;data&quot;</span>)</div>
<div class="line"><span class="lineno">   73</span>    <span class="keywordflow">except</span> Exception:</div>
<div class="line"><span class="lineno">   74</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">   75</span>    mkdir(<span class="stringliteral">&quot;apphtml&quot;</span>)</div>
<div class="line"><span class="lineno">   76</span>    mkdir(<span class="stringliteral">&quot;assets&quot;</span>)</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">if</span> cachename == <span class="stringliteral">&quot;data.xp2&quot;</span>:</div>
<div class="line"><span class="lineno">   78</span>        <span class="keywordflow">for</span> r, d, f <span class="keywordflow">in</span> os.walk(<span class="stringliteral">&quot;data1/apphtml/&quot;</span>):</div>
<div class="line"><span class="lineno">   79</span>            <span class="keywordflow">for</span> file <span class="keywordflow">in</span> f:</div>
<div class="line"><span class="lineno">   80</span>                shutil.move(</div>
<div class="line"><span class="lineno">   81</span>                    os.path.join(<span class="stringliteral">&quot;data1/apphtml/&quot;</span>, file), os.path.join(<span class="stringliteral">&quot;apphtml/&quot;</span>, file)</div>
<div class="line"><span class="lineno">   82</span>                )</div>
<div class="line"><span class="lineno">   83</span>        <span class="keywordflow">for</span> r, d, f <span class="keywordflow">in</span> os.walk(<span class="stringliteral">&quot;data1/assets/&quot;</span>):</div>
<div class="line"><span class="lineno">   84</span>            <span class="keywordflow">for</span> file <span class="keywordflow">in</span> f:</div>
<div class="line"><span class="lineno">   85</span>                shutil.move(</div>
<div class="line"><span class="lineno">   86</span>                    os.path.join(<span class="stringliteral">&quot;data1/assets/&quot;</span>, file), os.path.join(<span class="stringliteral">&quot;assets/&quot;</span>, file)</div>
<div class="line"><span class="lineno">   87</span>                )</div>
<div class="line"><span class="lineno">   88</span>        shutil.rmtree(<span class="stringliteral">&quot;data1/apphtml&quot;</span>)</div>
<div class="line"><span class="lineno">   89</span>        shutil.rmtree(<span class="stringliteral">&quot;data1/assets&quot;</span>)</div>
<div class="line"><span class="lineno">   90</span>        <span class="keywordflow">for</span> i <span class="keywordflow">in</span> os.listdir(<span class="stringliteral">&quot;data1&quot;</span>):</div>
<div class="line"><span class="lineno">   91</span>            shutil.move(f<span class="stringliteral">&quot;data1/{i}&quot;</span>, i)</div>
<div class="line"><span class="lineno">   92</span>        shutil.rmtree(<span class="stringliteral">&quot;data1&quot;</span>)</div>
<div class="line"><span class="lineno">   93</span>    remove(cachename)</div>
<div class="line"><span class="lineno">   94</span>    remove(<span class="stringliteral">&quot;data.xp3&quot;</span>)</div>
<div class="line"><span class="lineno">   95</span> </div>
<div class="line"><span class="lineno">   96</span> </div>
</div><!-- fragment --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d9/d8d/namespacefile__operations_aa0282ee2aa6f3008a170c6b1d32409bc_icgraph.png" border="0" usemap="#ad9/d8d/namespacefile__operations_aa0282ee2aa6f3008a170c6b1d32409bc_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a92e42a7313938f27c8d2368279f095d8" name="a92e42a7313938f27c8d2368279f095d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a92e42a7313938f27c8d2368279f095d8">&#9670;&#160;</a></span>xp3_finalization()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def file_operations.xp3_finalization </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The xp3_finalization function is used to repack the data.xp3 file after all of the necessary changes have been made.
It also deletes any temporary folders that were created during the process.

:return: None
</pre> 
<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00203">203</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  203</span><span class="keyword">def </span>xp3_finalization():</div>
<div class="line"><span class="lineno">  204</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  205</span><span class="stringliteral">    The xp3_finalization function </span><span class="keywordflow">is</span> used to repack the data.xp3 file after all of the necessary changes have been made.</div>
<div class="line"><span class="lineno">  206</span>    It also deletes any temporary folders that were created during the process.</div>
<div class="line"><span class="lineno">  207</span>    </div>
<div class="line"><span class="lineno">  208</span>    :<span class="keywordflow">return</span>: <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  209</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  210</span><span class="stringliteral">    </span><span class="keywordflow">if</span> <span class="keywordflow">not</span> quiet:</div>
<div class="line"><span class="lineno">  211</span>        subprocess.call(</div>
<div class="line"><span class="lineno">  212</span>            [</div>
<div class="line"><span class="lineno">  213</span>                sys.executable,</div>
<div class="line"><span class="lineno">  214</span>                <span class="stringliteral">&quot;xp3.py&quot;</span>,</div>
<div class="line"><span class="lineno">  215</span>                <span class="stringliteral">&quot;datafolder&quot;</span>,</div>
<div class="line"><span class="lineno">  216</span>                <span class="stringliteral">&quot;data.xp3&quot;</span>,</div>
<div class="line"><span class="lineno">  217</span>                <span class="stringliteral">&quot;-mode&quot;</span>,</div>
<div class="line"><span class="lineno">  218</span>                <span class="stringliteral">&quot;repack&quot;</span>,</div>
<div class="line"><span class="lineno">  219</span>                <span class="stringliteral">&quot;-e&quot;</span>,</div>
<div class="line"><span class="lineno">  220</span>                <span class="stringliteral">&quot;neko_vol0_steam&quot;</span>,</div>
<div class="line"><span class="lineno">  221</span>            ]</div>
<div class="line"><span class="lineno">  222</span>        )</div>
<div class="line"><span class="lineno">  223</span>    <span class="keywordflow">if</span> quiet:</div>
<div class="line"><span class="lineno">  224</span>        subprocess.call(</div>
<div class="line"><span class="lineno">  225</span>            [</div>
<div class="line"><span class="lineno">  226</span>                sys.executable,</div>
<div class="line"><span class="lineno">  227</span>                <span class="stringliteral">&quot;xp3.py&quot;</span>,</div>
<div class="line"><span class="lineno">  228</span>                <span class="stringliteral">&quot;datafolder&quot;</span>,</div>
<div class="line"><span class="lineno">  229</span>                <span class="stringliteral">&quot;data.xp3&quot;</span>,</div>
<div class="line"><span class="lineno">  230</span>                <span class="stringliteral">&quot;-mode&quot;</span>,</div>
<div class="line"><span class="lineno">  231</span>                <span class="stringliteral">&quot;repack&quot;</span>,</div>
<div class="line"><span class="lineno">  232</span>                <span class="stringliteral">&quot;-e&quot;</span>,</div>
<div class="line"><span class="lineno">  233</span>                <span class="stringliteral">&quot;neko_vol0_steam&quot;</span>,</div>
<div class="line"><span class="lineno">  234</span>                <span class="stringliteral">&quot;-silent&quot;</span>,</div>
<div class="line"><span class="lineno">  235</span>            ]</div>
<div class="line"><span class="lineno">  236</span>        )</div>
<div class="line"><span class="lineno">  237</span>    shutil.rmtree(<span class="stringliteral">&quot;datafolder&quot;</span>)</div>
<div class="line"><span class="lineno">  238</span>    shutil.rmtree(<span class="stringliteral">&quot;apphtml&quot;</span>)</div>
<div class="line"><span class="lineno">  239</span>    shutil.rmtree(<span class="stringliteral">&quot;yt_dl&quot;</span>)</div>
<div class="line"><span class="lineno">  240</span>    shutil.rmtree(<span class="stringliteral">&quot;assets&quot;</span>)</div>
<div class="line"><span class="lineno">  241</span> </div>
<div class="line"><span class="lineno">  242</span> </div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ab1687daff2bc18ea7431e21e77ac6110" name="ab1687daff2bc18ea7431e21e77ac6110"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab1687daff2bc18ea7431e21e77ac6110">&#9670;&#160;</a></span>quiet</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool file_operations.quiet = eval(os.getenv(&quot;QUIET&quot;))</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00015">15</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>

</div>
</div>
<a id="a71a6849b59b575580a7d6806471944b4" name="a71a6849b59b575580a7d6806471944b4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a71a6849b59b575580a7d6806471944b4">&#9670;&#160;</a></span>try</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">file_operations.try :</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="../../d3/d1c/file__operations_8py_source.html#l00014">14</a> of file <a class="el" href="../../d3/d1c/file__operations_8py_source.html">file_operations.py</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d8d/namespacefile__operations.html">file_operations</a></li>
    <li class="footer">Generated on Tue Jun 13 2023 20:59:46 for ZnamE by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
