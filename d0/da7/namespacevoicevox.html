<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ZnamE: voicevox Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/searchdata.js"></script>
<script type="text/javascript" src="../../search/search.js"></script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ZnamE<span id="projectnumber">&#160;v2.11.0-alpha+build.20230608.215215</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "../../search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="../../menudata.js"></script>
<script type="text/javascript" src="../../menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('../../',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('d0/da7/namespacevoicevox.html','../../'); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">voicevox Namespace Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a52bd36be1a1cc6f08d550fa7fad4bf1e"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/da7/namespacevoicevox.html#a52bd36be1a1cc6f08d550fa7fad4bf1e">get_size</a> (start_path=&quot;.&quot;)</td></tr>
<tr class="separator:a52bd36be1a1cc6f08d550fa7fad4bf1e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa37262df773484b9ff8784b2743e6e1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/da7/namespacevoicevox.html#afa37262df773484b9ff8784b2743e6e1">run_voicevox</a> (env)</td></tr>
<tr class="separator:afa37262df773484b9ff8784b2743e6e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a52bd36be1a1cc6f08d550fa7fad4bf1e" name="a52bd36be1a1cc6f08d550fa7fad4bf1e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52bd36be1a1cc6f08d550fa7fad4bf1e">&#9670;&#160;</a></span>get_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def voicevox.get_size </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>start_path</em> = <code>&quot;.&quot;</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The get_size function returns the total size of a directory in bytes.
    It takes one argument, start_path, which is the path to be measured.
    The default value for start_path is &amp;quot;.&amp;quot; (the current working directory).

:param start_path: Specify the path of the directory to be scanned
:return: The total size of the directory in bytes
</pre> 
<p class="definition">Definition at line <a class="el" href="../../de/d74/voicevox_8py_source.html#l00009">9</a> of file <a class="el" href="../../de/d74/voicevox_8py_source.html">voicevox.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">    9</span><span class="keyword">def </span>get_size(start_path=&quot;.&quot;):</div>
<div class="line"><span class="lineno">   10</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   11</span><span class="stringliteral">    The get_size function returns the total size of a directory </span><span class="keywordflow">in</span> bytes.</div>
<div class="line"><span class="lineno">   12</span>        It takes one argument, start_path, which <span class="keywordflow">is</span> the path to be measured.</div>
<div class="line"><span class="lineno">   13</span>        The default value <span class="keywordflow">for</span> start_path <span class="keywordflow">is</span> &amp;quot;.&amp;quot; (the current working directory).</div>
<div class="line"><span class="lineno">   14</span>    </div>
<div class="line"><span class="lineno">   15</span>    :param start_path: Specify the path of the directory to be scanned</div>
<div class="line"><span class="lineno">   16</span>    :<span class="keywordflow">return</span>: The total size of the directory <span class="keywordflow">in</span> bytes</div>
<div class="line"><span class="lineno">   17</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   18</span><span class="stringliteral">    total_size = 0</span></div>
<div class="line"><span class="lineno">   19</span><span class="stringliteral">    </span><span class="keywordflow">for</span> dirpath, dirnames, filenames <span class="keywordflow">in</span> os.walk(start_path):</div>
<div class="line"><span class="lineno">   20</span>        <span class="keywordflow">for</span> f <span class="keywordflow">in</span> filenames:</div>
<div class="line"><span class="lineno">   21</span>            fp = os.path.join(dirpath, f)</div>
<div class="line"><span class="lineno">   22</span>            <span class="comment"># skip if it is symbolic link</span></div>
<div class="line"><span class="lineno">   23</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> os.path.islink(fp):</div>
<div class="line"><span class="lineno">   24</span>                total_size += os.path.getsize(fp)</div>
<div class="line"><span class="lineno">   25</span> </div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordflow">return</span> total_size</div>
<div class="line"><span class="lineno">   27</span> </div>
<div class="line"><span class="lineno">   28</span> </div>
</div><!-- fragment --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="../../closed.png" alt="+"/> Here is the caller graph for this function:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d0/da7/namespacevoicevox_a52bd36be1a1cc6f08d550fa7fad4bf1e_icgraph.png" border="0" usemap="#ad0/da7/namespacevoicevox_a52bd36be1a1cc6f08d550fa7fad4bf1e_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="afa37262df773484b9ff8784b2743e6e1" name="afa37262df773484b9ff8784b2743e6e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa37262df773484b9ff8784b2743e6e1">&#9670;&#160;</a></span>run_voicevox()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def voicevox.run_voicevox </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>env</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">The run_voicevox function is used to run the VOICEVOX program.
It checks if the VOICEVOX folder exists and if it does, it runs a git pull command on that folder.
If there are any updates, they will be downloaded and installed automatically.
If there are no updates available or the folder doesn't exist, then it asks you whether you want to download 
the latest version of VOICEVOX from GitHub using git clone command or not.

:param env: Determine the python environment to run the program in
:return: The value of the run_voicevox function
</pre> 
<p class="definition">Definition at line <a class="el" href="../../de/d74/voicevox_8py_source.html#l00029">29</a> of file <a class="el" href="../../de/d74/voicevox_8py_source.html">voicevox.py</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   29</span><span class="keyword">def </span>run_voicevox(env):</div>
<div class="line"><span class="lineno">   30</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   31</span><span class="stringliteral">    The run_voicevox function </span><span class="keywordflow">is</span> used to run the VOICEVOX program.</div>
<div class="line"><span class="lineno">   32</span>    It checks <span class="keywordflow">if</span> the VOICEVOX folder exists <span class="keywordflow">and</span> <span class="keywordflow">if</span> it does, it runs a git pull command on that folder.</div>
<div class="line"><span class="lineno">   33</span>    If there are any updates, they will be downloaded <span class="keywordflow">and</span> installed automatically.</div>
<div class="line"><span class="lineno">   34</span>    If there are no updates available <span class="keywordflow">or</span> the folder doesn<span class="stringliteral">&#39;t exist, then it asks you whether you want to download </span></div>
<div class="line"><span class="lineno">   35</span><span class="stringliteral">    the latest version of VOICEVOX </span><span class="keyword">from</span> GitHub using git clone command <span class="keywordflow">or</span> <span class="keywordflow">not</span>.</div>
<div class="line"><span class="lineno">   36</span>    </div>
<div class="line"><span class="lineno">   37</span>    :param env: Determine the python environment to run the program <span class="keywordflow">in</span></div>
<div class="line"><span class="lineno">   38</span>    :<span class="keywordflow">return</span>: The value of the run_voicevox function</div>
<div class="line"><span class="lineno">   39</span>    <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">   40</span><span class="stringliteral">    damaged = </span><span class="keyword">False</span></div>
<div class="line"><span class="lineno">   41</span>    <span class="keywordflow">if</span> os.path.exists(<span class="stringliteral">&quot;VOICEVOX&quot;</span>):</div>
<div class="line"><span class="lineno">   42</span>        size = get_size(<span class="stringliteral">&quot;VOICEVOX&quot;</span>) / 1024 / 1024</div>
<div class="line"><span class="lineno">   43</span>        <span class="keywordflow">if</span> size &lt; 1000:</div>
<div class="line"><span class="lineno">   44</span>            damaged = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordflow">if</span> os.path.exists(<span class="stringliteral">&quot;VOICEVOX&quot;</span>) <span class="keywordflow">and</span> <span class="keywordflow">not</span> damaged:</div>
<div class="line"><span class="lineno">   46</span>        typewriter(</div>
<div class="line"><span class="lineno">   47</span>            printnlog(</div>
<div class="line"><span class="lineno">   48</span>                f<span class="stringliteral">&quot;\nChecking for updates\nRunning command\nRunning command: git -C VOICEVOX pull\n&quot;</span>,</div>
<div class="line"><span class="lineno">   49</span>                toprint=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">   50</span>            ),</div>
<div class="line"><span class="lineno">   51</span>            ttime=0.01,</div>
<div class="line"><span class="lineno">   52</span>        )</div>
<div class="line"><span class="lineno">   53</span>        subprocess.call([<span class="stringliteral">&quot;git&quot;</span>, <span class="stringliteral">&quot;-C&quot;</span>, <span class="stringliteral">&quot;VOICEVOX&quot;</span>, <span class="stringliteral">&quot;pull&quot;</span>])</div>
<div class="line"><span class="lineno">   54</span>        typewriter(</div>
<div class="line"><span class="lineno">   55</span>            printnlog(</div>
<div class="line"><span class="lineno">   56</span>                f<span class="stringliteral">&quot;\nRunning VOICEVOX\nRunning command: {env} -m VOICEVOX\n&quot;</span>,</div>
<div class="line"><span class="lineno">   57</span>                toprint=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">   58</span>            ),</div>
<div class="line"><span class="lineno">   59</span>            ttime=0.01,</div>
<div class="line"><span class="lineno">   60</span>        )</div>
<div class="line"><span class="lineno">   61</span>        sleep(1)</div>
<div class="line"><span class="lineno">   62</span>        subprocess.call([env, <span class="stringliteral">&quot;-m&quot;</span>, <span class="stringliteral">&quot;VOICEVOX&quot;</span>])</div>
<div class="line"><span class="lineno">   63</span>    <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   64</span>        <span class="keywordflow">if</span> os.path.exists(<span class="stringliteral">&quot;VOICEVOX&quot;</span>):</div>
<div class="line"><span class="lineno">   65</span>            typewriter(</div>
<div class="line"><span class="lineno">   66</span>                printnlog(f<span class="stringliteral">&quot;\nFound damaged VOICEVOX\nDeleting ...\n&quot;</span>, toprint=<span class="keyword">False</span>),</div>
<div class="line"><span class="lineno">   67</span>                ttime=0.01,</div>
<div class="line"><span class="lineno">   68</span>            )</div>
<div class="line"><span class="lineno">   69</span>            print(<span class="stringliteral">&quot;\nWaiting 2 seconds to clear Access Denied Error\n&quot;</span>)</div>
<div class="line"><span class="lineno">   70</span>            sleep(2)</div>
<div class="line"><span class="lineno">   71</span>            <span class="keywordflow">for</span> i <span class="keywordflow">in</span> os.listdir(<span class="stringliteral">&quot;VOICEVOX&quot;</span>):</div>
<div class="line"><span class="lineno">   72</span>                <span class="keywordflow">if</span> i.endswith(<span class="stringliteral">&quot;git&quot;</span>):</div>
<div class="line"><span class="lineno">   73</span>                    tmp = os.path.join(<span class="stringliteral">&quot;VOICEVOX&quot;</span>, i)</div>
<div class="line"><span class="lineno">   74</span>                    <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">   75</span>                        subprocess.call([<span class="stringliteral">&quot;attrib&quot;</span>, <span class="stringliteral">&quot;-H&quot;</span>, tmp])</div>
<div class="line"><span class="lineno">   76</span>                        <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">   77</span>                    shutil.rmtree(tmp, onerror=on_rm_error)</div>
<div class="line"><span class="lineno">   78</span>            print(<span class="stringliteral">&quot;\nWaiting 2 seconds to clear Access Denied Error\n&quot;</span>)</div>
<div class="line"><span class="lineno">   79</span>            sleep(2)</div>
<div class="line"><span class="lineno">   80</span>            shutil.rmtree(<span class="stringliteral">&quot;VOICEVOX&quot;</span>, onerror=on_rm_error)</div>
<div class="line"><span class="lineno">   81</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   82</span>            printnlog(<span class="stringliteral">&quot;VOICEVOX not found&quot;</span>)</div>
<div class="line"><span class="lineno">   83</span>        <span class="keywordflow">while</span> <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">   84</span>            vstup = input(</div>
<div class="line"><span class="lineno">   85</span>                printnlog(</div>
<div class="line"><span class="lineno">   86</span>                    <span class="stringliteral">&quot;\nTo install VOICEVOX run this command &#39;git clone https://github.com/GrenManSK/VOICEVOX.git&#39;\nDo you want to complete this action automatically (Y/n) &gt; &quot;</span>,</div>
<div class="line"><span class="lineno">   87</span>                    toprint=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">   88</span>                )</div>
<div class="line"><span class="lineno">   89</span>            ).lower()</div>
<div class="line"><span class="lineno">   90</span>            <span class="keywordflow">if</span> vstup <span class="keywordflow">in</span> [<span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;y&quot;</span>]:</div>
<div class="line"><span class="lineno">   91</span>                <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">   92</span>            <span class="keywordflow">elif</span> vstup == <span class="stringliteral">&quot;n&quot;</span>:</div>
<div class="line"><span class="lineno">   93</span>                <span class="keywordflow">return</span></div>
<div class="line"><span class="lineno">   94</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   95</span>                printnlog(<span class="stringliteral">&quot;Wrong character&quot;</span>)</div>
<div class="line"><span class="lineno">   96</span>        typewriter(printnlog(<span class="stringliteral">&quot;Downloading VOICEVOX\n&quot;</span>, toprint=<span class="keyword">False</span>), ttime=0.01)</div>
<div class="line"><span class="lineno">   97</span>        os.system(<span class="stringliteral">&quot;git clone https://github.com/GrenManSK/VOICEVOX.git&quot;</span>)</div>
<div class="line"><span class="lineno">   98</span>        typewriter(</div>
<div class="line"><span class="lineno">   99</span>            printnlog(</div>
<div class="line"><span class="lineno">  100</span>                f<span class="stringliteral">&quot;\nDownloading pip requirements\nRunning command: {env} -m pip install -r VOICEVOX/requirements.txt --no-warn-script-location\n&quot;</span>,</div>
<div class="line"><span class="lineno">  101</span>                toprint=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  102</span>            ),</div>
<div class="line"><span class="lineno">  103</span>            ttime=0.01,</div>
<div class="line"><span class="lineno">  104</span>        )</div>
<div class="line"><span class="lineno">  105</span>        sleep(1)</div>
<div class="line"><span class="lineno">  106</span>        os.system(</div>
<div class="line"><span class="lineno">  107</span>            env</div>
<div class="line"><span class="lineno">  108</span>            + <span class="stringliteral">&quot; -m pip install -r VOICEVOX/requirements.txt --no-warn-script-location&quot;</span></div>
<div class="line"><span class="lineno">  109</span>        )</div>
<div class="line"><span class="lineno">  110</span>        typewriter(</div>
<div class="line"><span class="lineno">  111</span>            printnlog(</div>
<div class="line"><span class="lineno">  112</span>                f<span class="stringliteral">&quot;\nRunning VOICEVOX\nRunning command: {env} -m VOICEVOX --force-reinstall\n&quot;</span>,</div>
<div class="line"><span class="lineno">  113</span>                toprint=<span class="keyword">False</span>,</div>
<div class="line"><span class="lineno">  114</span>            ),</div>
<div class="line"><span class="lineno">  115</span>            ttime=0.01,</div>
<div class="line"><span class="lineno">  116</span>        )</div>
<div class="line"><span class="lineno">  117</span>        sleep(1)</div>
<div class="line"><span class="lineno">  118</span>        subprocess.call([env, <span class="stringliteral">&quot;-m&quot;</span>, <span class="stringliteral">&quot;VOICEVOX&quot;</span>, <span class="stringliteral">&quot;--force-reinstall&quot;</span>])</div>
</div><!-- fragment --><div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="../../closed.png" alt="+"/> Here is the call graph for this function:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="../../d0/da7/namespacevoicevox_afa37262df773484b9ff8784b2743e6e1_cgraph.png" border="0" usemap="#ad0/da7/namespacevoicevox_afa37262df773484b9ff8784b2743e6e1_cgraph" alt=""/></div>
</div>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/da7/namespacevoicevox.html">voicevox</a></li>
    <li class="footer">Generated on Fri Jun 9 2023 09:20:37 for ZnamE by <a href="https://www.doxygen.org/index.html"><img class="footer" src="../../doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
